---
name: Restructure
description: Restructure unorganized text into readable markdown documents using Gemini AI. Use when processing article scraps, converting messy notes to structured documents, or translating English content to Korean.
allowed-tools: Read, Bash, Glob
version: 1.0.0
updated: 2026-01-11
status: active
color: yellow
---

# Restructure: í…ìŠ¤íŠ¸ ì¬êµ¬ì¡°í™” ìŠ¤í‚¬

ì •ë¦¬ë˜ì§€ ì•Šì€ í…ìŠ¤íŠ¸(ê¸°ì‚¬ ìŠ¤í¬ë©, ë©”ëª¨ ë“±)ë¥¼ ê°€ë…ì„± ë†’ì€ ë§ˆí¬ë‹¤ìš´ ë¬¸ì„œë¡œ ì¬êµ¬ì„±í•œë‹¤. ì›ë³¸ì˜ ì˜ë¯¸ì™€ ë‚´ìš©ì€ ì¼ì²´ ë³€ê²½í•˜ì§€ ì•Šìœ¼ë©´ì„œ ë…¼ë¦¬ì ì¸ êµ¬ì¡°ë¥¼ ë¶€ì—¬í•œë‹¤.

---

## Quick Reference (30 seconds)

**Purpose**: ë¹„ì •í˜• í…ìŠ¤íŠ¸ë¥¼ ì²´ê³„ì ì¸ ë§ˆí¬ë‹¤ìš´ ë¬¸ì„œë¡œ ì¬êµ¬ì¡°í™”

**Execution Command**:
```bash
# ê¸°ë³¸ ì‚¬ìš©
"{skill_scripts_dir}/restructure.sh" "{input_file_path}"

# ì¶”ê°€ í”„ë¡¬í”„íŠ¸ì™€ í•¨ê»˜
"{skill_scripts_dir}/restructure.sh" "{input_file_path}" "{additional_prompt}"
```

**Script Location**:
`.claude/skills/Restructure/scripts/restructure.sh`

**Prerequisites**:
- gemini-cli ì„¤ì¹˜ í•„ìš”
- Model: gemini-3-flash-preview

**Output**: ê°™ì€ ë””ë ‰í† ë¦¬ì— `Restructured_` ì ‘ë‘ì‚¬ê°€ ë¶™ì€ íŒŒì¼ ìƒì„±

**Example**:
```bash
# ìƒëŒ€ ê²½ë¡œ
./restructure.sh "ğŸš¨Temporary/ğŸ“–Books/ğŸ“•í˜ì˜¤/HATE/4. Introduction.md"

# ì ˆëŒ€ ê²½ë¡œ
./restructure.sh "/Users/seongjin/Documents/â­ì„±ì§„ì´ì˜ ì˜µì‹œë””ì–¸/ğŸš¨Temporary/ğŸ“–Books/ğŸ“•í˜ì˜¤/HATE/4. Introduction.md"

# ì¶”ê°€ í”„ë¡¬í”„íŠ¸ ì‚¬ìš©
./restructure.sh "TMP/draft.md" "'Amos Decker'ë¥¼ 'ì—ì´ë¨¸ìŠ¤ ë°ì»¤'ë¼ê³  í‘œí˜„í•´."
```

---

## Implementation Guide (5 minutes)

### ê¸°ë³¸ ì‚¬ìš©ë²•

**Step 1**: gemini-cli ì„¤ì¹˜ í™•ì¸
```bash
# gemini-cliê°€ ì„¤ì¹˜ë˜ì–´ ìˆëŠ”ì§€ í™•ì¸
which gemini
```

**Step 2**: ìŠ¤í¬ë¦½íŠ¸ ì‹¤í–‰
```bash
SKILL_DIR="/path/to/vault/.claude/skills/Restructure/scripts"
"$SKILL_DIR/restructure.sh" "/path/to/input.md"
```

### ì…ì¶œë ¥ êµ¬ì¡°

| í•­ëª© | ì„¤ëª… |
|------|------|
| ì…ë ¥ | ì •ë¦¬ë˜ì§€ ì•Šì€ ë§ˆí¬ë‹¤ìš´ íŒŒì¼ |
| ì¶œë ¥ | `Restructured_[ì›ë³¸íŒŒì¼ëª…].md` |
| ìœ„ì¹˜ | ì…ë ¥ íŒŒì¼ê³¼ ë™ì¼ ë””ë ‰í† ë¦¬ |

**ì…ì¶œë ¥ ì˜ˆì‹œ**:
```
ì…ë ¥: 4. Introduction.md
ì¶œë ¥: Restructured_4. Introduction.md
```

### ìŠ¤í¬ë¦½íŠ¸ ë™ì‘ íë¦„

1. **ì…ë ¥ ê²€ì¦**: íŒŒì¼ ê²½ë¡œì™€ í”„ë¡¬í”„íŠ¸ íŒŒì¼ ì¡´ì¬ í™•ì¸
2. **í”„ë¡¬í”„íŠ¸ êµ¬ì„±**: ì‹œìŠ¤í…œ í”„ë¡¬í”„íŠ¸ì™€ ì…ë ¥ ì½˜í…ì¸ ë¥¼ XML íƒœê·¸ë¡œ ê²°í•©
3. **ì¶”ê°€ í”„ë¡¬í”„íŠ¸ ê²°í•©**: ì¶”ê°€ í”„ë¡¬í”„íŠ¸ê°€ ìˆìœ¼ë©´ `<Additional_Prompt>` íƒœê·¸ë¡œ ì¶”ê°€
4. **AI ì²˜ë¦¬**: gemini-cli headless modeë¡œ ì¬êµ¬ì¡°í™” ì‹¤í–‰
5. **ì¶œë ¥ ì €ì¥**: ê²°ê³¼ë¥¼ `Restructured_` ì ‘ë‘ì‚¬ íŒŒì¼ë¡œ ì €ì¥

### ì‹¤í–‰ ì¶œë ¥ ì˜ˆì‹œ

```
[INFO] ì…ë ¥ íŒŒì¼: /path/to/4. Introduction.md
[INFO] ì¶œë ¥ íŒŒì¼: /path/to/Restructured_4. Introduction.md
[INFO] í”„ë¡¬í”„íŠ¸: /path/to/prompt.md
[INFO] ì¶”ê°€ í”„ë¡¬í”„íŠ¸: 'Amos Decker'ë¥¼ 'ì—ì´ë¨¸ìŠ¤ ë°ì»¤'ë¼ê³  í‘œí˜„í•´.
[INFO] ëª¨ë¸: gemini-3-flash-preview

[INFO] gemini-cli ì‹¤í–‰ ì¤‘...
[INFO] ì™„ë£Œ! ì¶œë ¥ íŒŒì¼ì´ ìƒì„±ë˜ì—ˆìŠµë‹ˆë‹¤: /path/to/Restructured_4. Introduction.md
```

**ì°¸ê³ **: ì¶”ê°€ í”„ë¡¬í”„íŠ¸ê°€ ì—†ëŠ” ê²½ìš° í•´ë‹¹ ë¼ì¸ì€ ì¶œë ¥ë˜ì§€ ì•ŠìŠµë‹ˆë‹¤.

---

## Advanced Implementation (10+ minutes)

### í•µì‹¬ ì›ì¹™

ì¬êµ¬ì¡°í™” ì‘ì—…ì€ ì„¸ ê°€ì§€ í•µì‹¬ ì›ì¹™ì„ ë”°ë¥¸ë‹¤:

**1. ë‚´ìš© ë³´ì¡´ì˜ ì›ì¹™ (Content Fidelity)**
- ì›ë³¸ í…ìŠ¤íŠ¸ì˜ ì •ë³´, ì£¼ì¥, ë‰˜ì•™ìŠ¤, ì‚¬ì‹¤ ê´€ê³„ë¥¼ 100% ìœ ì§€
- ë‹¨ì–´ í•˜ë‚˜, ë¬¸ì¥ í•˜ë‚˜ë„ ì„ì˜ë¡œ ì¶”ê°€/ì‚­ì œ/ìˆ˜ì •/ì™œê³¡ ê¸ˆì§€

**2. ê°€ë…ì„± ê·¹ëŒ€í™”ì˜ ì›ì¹™ (Readability Maximization)**
- ëŠì–´ì§„ ë¬¸ì¥ì„ ìì—°ìŠ¤ëŸ½ê²Œ ì—°ê²°
- ë¬¸ë‹¨ êµ¬ë¶„ì„ ë…¼ë¦¬ì ìœ¼ë¡œ ì¬ì¡°ì •
- ì ì ˆí•œ ë§ˆí¬ë‹¤ìš´ ì„œì‹ ì ìš©

**3. í˜•ì‹ ì¼ê´€ì„±ì˜ ì›ì¹™ (Formatting Consistency)**
- ëª¨ë“  ë¬¸ì„œì— ì¼ê´€ëœ ë§ˆí¬ë‹¤ìš´ ê·œì¹™ ì ìš©
- í†µì¼ì„± ìˆê³  ì „ë¬¸ì ì¸ ê²°ê³¼ë¬¼ ìƒì„±

### ë²ˆì—­ ì›ì¹™ (ì˜ì–´ ì…ë ¥ ì‹œ)

ì…ë ¥ì´ ì˜ì–´ì¸ ê²½ìš° í‰ì–´ì²´ í•œêµ­ì–´(~ë‹¤, ~ì´ë‹¤)ë¡œ ë²ˆì—­í•˜ë©° ë‹¤ìŒ ì›ì¹™ì„ ë”°ë¥¸ë‹¤:

| í•­ëª© | ê·œì¹™ |
|------|------|
| ì˜ë„/í†¤/ë‰˜ì•™ìŠ¤ | ì›ë¬¸ì˜ ì˜ë„ì™€ í†¤ì„ í•œêµ­ì–´ë¡œ ì¶©ì‹¤íˆ ì „ë‹¬ |
| ìì—°ìŠ¤ëŸ¬ìš´ í‘œí˜„ | ì§ì—­ í”¼í•˜ê³  í•œêµ­ì–´ í™”ìê°€ ì½ê¸° í¸í•œ ë¬¸ì¥ìœ¼ë¡œ ì¬êµ¬ì„± |
| ê´€ìš©ì  í‘œí˜„ | í•œêµ­ì–´ê¶Œ ë…ìê°€ ì´í•´í•  ìˆ˜ ìˆëŠ” í‘œí˜„ìœ¼ë¡œ ì˜®ê¸°ê¸° |
| ì „ë¬¸ ìš©ì–´ | í•´ë‹¹ ë¶„ì•¼ì˜ í•œêµ­ì–´ í‘œì¤€ ìš©ë²•ì— ë”°ë¼ ì •í™•í•˜ê²Œ ë²ˆì—­ |

### ê³ ìœ ëª…ì‚¬ ì²˜ë¦¬ ê·œì¹™

**ì™¸êµ­ì–´ ê³ ìœ ëª…ì‚¬**: ì›ì–´ ê·¸ëŒ€ë¡œ í‘œê¸°
```
Steve Jobs -> Steve Jobs (O)
Steve Jobs -> ìŠ¤í‹°ë¸Œ ì¡ìŠ¤ (X)
```

**í•œêµ­ì–´ ê³ ìœ ëª…ì‚¬**: ì›ë˜ í‘œê¸° ìœ ì§€
```
ì†í¥ë¯¼ -> ì†í¥ë¯¼ (O)
ì†í¥ë¯¼ -> Son Heung-min (X)
```

**ì±…/ì‘í’ˆ ì œëª©**: ã€ã€ í˜•ì‹ìœ¼ë¡œ í†µì¼
```
'ììœ ë¡ ', "ììœ ë¡ ", <ììœ ë¡ > -> ã€ììœ ë¡ ã€
```

### ë§ˆí¬ë‹¤ìš´ ì„œì‹ ì ìš© ê·œì¹™

| ìš”ì†Œ | ì²˜ë¦¬ ë°©ì‹ |
|------|-----------|
| ì†Œì œëª© | ë‚´ìš© êµ¬ë¶„ì€ `##`, `###`ìœ¼ë¡œ ê³„ì¸µí™” |
| ì¸ìš©ë¬¸ | ì§ì ‘ ì¸ìš©, ëŒ€í™”, ê°•ì¡° ë¬¸êµ¬ëŠ” `>` ë¸”ë¡ ì²˜ë¦¬ |
| ì´ë¯¸ì§€+ìº¡ì…˜ | ê°™ì€ ì¤„ì— ì´ì–´ì„œ ì‘ì„±: `![[img.png]] ìº¡ì…˜` |
| ëª©ë¡ | ë‚˜ì—´ í•­ëª©ì€ `1.` ë˜ëŠ” `-` ì‚¬ìš© |
| ê°•ì¡° | ì¤‘ìš” í‚¤ì›Œë“œëŠ” `**êµµê²Œ**` ì²˜ë¦¬ |
| ë¬¸í—Œ ì¸ìš© | ã€ã€ í˜•ì‹ìœ¼ë¡œ í†µì¼ |

### í”„ë¡¬í”„íŠ¸ ì»¤ìŠ¤í„°ë§ˆì´ì§•

`scripts/prompt.md` íŒŒì¼ì„ ìˆ˜ì •í•˜ì—¬ ì¬êµ¬ì¡°í™” ë°©ì‹ì„ ì¡°ì •í•  ìˆ˜ ìˆë‹¤:

```bash
# í”„ë¡¬í”„íŠ¸ íŒŒì¼ ìœ„ì¹˜
.claude/skills/Restructure/scripts/prompt.md
```

**ì£¼ìš” ì„¤ì • í•­ëª©**:
- ì¶œë ¥ ì–¸ì–´ ì„¤ì • (í˜„ì¬: í‰ì–´ì²´ í•œêµ­ì–´)
- ë²ˆì—­ ì›ì¹™ ì¡°ì •
- ê³ ìœ ëª…ì‚¬ ì²˜ë¦¬ ê·œì¹™
- ë§ˆí¬ë‹¤ìš´ ì„œì‹ ê·œì¹™

### ë°°ì¹˜ ì²˜ë¦¬

`batch.sh`ë¡œ í´ë” ë‚´ íŒŒì¼ë“¤ì„ 10ì´ˆ ê°„ê²©ìœ¼ë¡œ ë°±ê·¸ë¼ìš´ë“œ ì‹¤í–‰:

```bash
# ê¸°ë³¸ ì‚¬ìš©
"{skill_scripts_dir}/batch.sh" "{folder_path}"

# ì¶”ê°€ í”„ë¡¬í”„íŠ¸ì™€ í•¨ê»˜
"{skill_scripts_dir}/batch.sh" "{folder_path}" "{additional_prompt}"
```

**ë™ì‘ ë°©ì‹**:
1. í´ë”ì—ì„œ `*.md` íŒŒì¼ ê²€ìƒ‰ (`Restructured_`, `.backup` ì œì™¸)
2. íŒŒì¼ëª… ê¸°ì¤€ ì˜¤ë¦„ì°¨ìˆœ ì •ë ¬ (`sort -V`)
3. ê° íŒŒì¼ì— `restructure.sh` ë°±ê·¸ë¼ìš´ë“œ ì‹¤í–‰ (10ì´ˆ ê°„ê²©ìœ¼ë¡œ ì‹œì‘)
4. ì™„ë£Œ ëŒ€ê¸° ì—†ì´ ë‹¤ìŒ íŒŒì¼ ì‹œì‘ â†’ API rate limit ë°©ì§€ + ì²˜ë¦¬ ì‹œê°„ ë‹¨ì¶•
5. ë§ˆì§€ë§‰ì— `wait`ë¡œ ëª¨ë“  ì‘ì—… ì™„ë£Œ ëŒ€ê¸°

---

## Related Resources

**Dependencies**:
- gemini-cli: Googleì˜ Gemini CLI ë„êµ¬
- Model: gemini-3-flash-preview

**File Structure**:
```
.claude/skills/Restructure/
â”œâ”€â”€ SKILL.md           # ì´ ë¬¸ì„œ
â””â”€â”€ scripts/
    â”œâ”€â”€ restructure.sh # ë‹¨ì¼ íŒŒì¼ ì²˜ë¦¬ ìŠ¤í¬ë¦½íŠ¸
    â”œâ”€â”€ batch.sh       # ë°°ì¹˜ ì²˜ë¦¬ ìŠ¤í¬ë¦½íŠ¸ (10ì´ˆ ê°„ê²©)
    â””â”€â”€ prompt.md      # ì‹œìŠ¤í…œ í”„ë¡¬í”„íŠ¸ (ìˆ˜ì • ê°€ëŠ¥)
```

---

## Works Well With

- `Prepare-Book` - PDF ì±…ì„ ì±•í„°ë³„ ë§ˆí¬ë‹¤ìš´ìœ¼ë¡œ ë³€í™˜ í›„ ì¬êµ¬ì¡°í™”ì— í™œìš©
- `Describe-Images` - ì´ë¯¸ì§€ ë§í¬ ë³€í™˜ í›„ í…ìŠ¤íŠ¸ ì¬êµ¬ì¡°í™”
- `Nano-Banana` - ì¬êµ¬ì¡°í™”ëœ ì½˜í…ì¸ ë¡œ PPT ìŠ¬ë¼ì´ë“œ ìƒì„±

---

## Troubleshooting

**gemini ëª…ë ¹ì–´ë¥¼ ì°¾ì„ ìˆ˜ ì—†ìŒ**:
- gemini-cliê°€ ì„¤ì¹˜ë˜ì–´ ìˆëŠ”ì§€ í™•ì¸
- PATHì— geminiê°€ í¬í•¨ë˜ì–´ ìˆëŠ”ì§€ í™•ì¸
```bash
which gemini
```

**íŒŒì¼ì„ ì°¾ì„ ìˆ˜ ì—†ìŒ**:
- íŒŒì¼ ê²½ë¡œì— íŠ¹ìˆ˜ë¬¸ìë‚˜ ê³µë°±ì´ ìˆëŠ” ê²½ìš° ë”°ì˜´í‘œë¡œ ê°ì‹¸ê¸°
- ì ˆëŒ€ ê²½ë¡œ ì‚¬ìš© ê¶Œì¥
```bash
./restructure.sh "/path/with spaces/file.md"
```

**í”„ë¡¬í”„íŠ¸ íŒŒì¼ì„ ì°¾ì„ ìˆ˜ ì—†ìŒ**:
- `scripts/prompt.md` íŒŒì¼ì´ ì¡´ì¬í•˜ëŠ”ì§€ í™•ì¸
- ìŠ¤í¬ë¦½íŠ¸ì™€ ê°™ì€ ë””ë ‰í† ë¦¬ì— ìœ„ì¹˜í•´ì•¼ í•¨

**ì¶œë ¥ íŒŒì¼ì´ ìƒì„±ë˜ì§€ ì•ŠìŒ**:
- gemini-cli API ì—°ê²° ìƒíƒœ í™•ì¸
- ë„¤íŠ¸ì›Œí¬ ì—°ê²° í™•ì¸
- API í• ë‹¹ëŸ‰ í™•ì¸

**ë¹ˆ ì¶œë ¥ íŒŒì¼**:
- ì…ë ¥ íŒŒì¼ì´ ë¹„ì–´ìˆì§€ ì•Šì€ì§€ í™•ì¸
- gemini-cli ë¡œê·¸ í™•ì¸
- ëª¨ë¸ ê°€ìš©ì„± í™•ì¸

**í•œê¸€ ê¹¨ì§ í˜„ìƒ**:
- í„°ë¯¸ë„ ì¸ì½”ë”©ì´ UTF-8ì¸ì§€ í™•ì¸
- ì…ë ¥ íŒŒì¼ ì¸ì½”ë”© í™•ì¸
